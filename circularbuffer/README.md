https://cybernetist.com/2024/04/11/circular-buffer-performance-trick/